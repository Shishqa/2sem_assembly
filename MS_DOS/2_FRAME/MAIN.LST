Turbo Assembler	 Version 4.1	    02/25/20 12:24:35	    Page 1
main.asm



      1				     locals @@
      2
      3				     .186
      4
      5	0000			     .model tiny
      6	0000			     .code
      7
      8				     extrn DrawWindow: proc
      9
     10				     org 100h
     11	0100  E8 0041		     Start:	     call Clear
     12
     13	0103  B9 000F				     mov cx, 15d
     14	0106  BA 0003				     mov dx, 3d
     15	0109  BB 0003				     mov bx, 3d
     16
     17	010C  87 D9		     @@next:	     xchg bx, cx
     18
     19	010E  51				     push cx
     20	010F  E8 002C				     call Delay
     21	0112  59				     pop cx
     22
     23	0113  51 52 53				     push cx dx	bx
     24	0116  BF 01FE				     mov di, (80 * 3 + 15) * 2
     25	0119  E8 0000e				     call DrawWindow
     26	011C  5B 5A 59				     pop bx dx cx
     27	011F  83 C1 03				     add cx, 3
     28	0122  42				     inc dx
     29
     30	0123  87 D9				     xchg bx, cx
     31	0125  E2 E5				     loop @@next
     32
     33	0127  BF 0676				     mov di, (80 * 10 +	27) * 2
     34	012A  BE 0000r				     mov si, offset Message
     35	012D  B9 0014				     mov cx, 20d
     36
     37	0130  F3> A5				     rep movsw
     38
     39	0132  B4 00				     mov ah, 00h
     40	0134  CD 16				     int 16h
     41
     42	0136  E8 000B				     call Clear
     43
     44	0139  B8 4C00				     mov ax, 4c00h
     45	013C  CD 21				     int 21h
     46
     47				     ;==========================================================================
     48				     ; Waits some time
     49				     ; Destr: CX
     50				     ;==========================================================================
     51
     52	013E			     Delay	     proc
     53
     54	013E  B9 FFFF				     mov CX, 0ffffh
     55	0141  E2 FE		     @@next:	     loop @@next
     56
     57	0143  C3				     ret
Turbo Assembler	 Version 4.1	    02/25/20 12:24:35	    Page 2
main.asm



     58	0144					     endp
     59
     60				     ;==========================================================================
     61				     ; Clears the screen
     62				     ; Destr: AX CX DI ES
     63				     ;==========================================================================
     64
     65	0144			     Clear	     proc
     66
     67	0144  68 B800				     push 0b800h
     68	0147  07				     pop es
     69	0148  BF 0000				     mov di, 0d
     70
     71	014B  33 C0				     xor ax, ax
     72
     73	014D  B9 0FA0				     mov cx, 80	* 25 * 2
     74
     75	0150  F3> AB				     rep stosw
     76
     77	0152  C3				     ret
     78	0153					     endp
     79
     80				     ;==========================================================================
     81
     82	0153			     .data
     83
     84	0000  41 5F 73 5F 73 5F	65+  Message	     db	'A_s_s_e_m_b_l_e_r_ _i_s_ _a_m_a_z_i_n_g_', 0d
     85	      5F 6D 5F 62 5F 6C	5F+
     86	      65 5F 72 5F 20 5F	69+
     87	      5F 73 5F 20 5F 61	5F+
     88	      6D 5F 61 5F 7A 5F	69+
     89	      5F 6E 5F 67 5F 00
     90
     91				     end	     Start
Turbo Assembler	 Version 4.1	    02/25/20 12:24:35	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/25/20"
??FILENAME			  Text	 "main	  "
??TIME				  Text	 "12:24:35"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@NEXT				  Near	 DGROUP:010C
@@NEXT				  Near	 DGROUP:0141
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0103H
@CURSEG				  Text	 _DATA
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 MAIN
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
CLEAR				  Near	 DGROUP:0144
DELAY				  Near	 DGROUP:013E
DRAWWINDOW			  Near	 DGROUP:---- Extern
MESSAGE				  Byte	 DGROUP:0000
START				  Near	 DGROUP:0100

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0029 Word	  Public  DATA
  _TEXT				  16  0153 Word	  Public  CODE
