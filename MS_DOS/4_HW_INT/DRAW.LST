Turbo Assembler	 Version 4.1	    02/23/20 19:51:43	    Page 1
draw.asm



      1				     locals @@
      2
      3				     .186
      4
      5	0000			     .model tiny
      6	0000			     .code
      7
      8				     public SetVideo
      9				     public DrawHorLine
     10				     public DrawVerLine
     11				     public CodeEnd
     12
     13				     ;==========================================================================
     14				     ; Sets ES pointer to the videosegment
     15				     ; Exit: ES	<- VRAM	segment
     16				     ;==========================================================================
     17
     18	0000			     SetVideo		     proc
     19
     20	0000  68 B800					     push 0b800h
     21	0003  07					     pop es
     22
     23	0004  C3					     ret
     24	0005						     endp
     25
     26				     ;==========================================================================
     27				     ; Draws a horizontal line on the screen (make sure	videosegment is	set)
     28				     ; Entry: AL - char	to draw	a line (ASCII code)
     29				     ;	      AH - color attribute
     30				     ;	      DI - char	address	of start
     31				     ;	      CX - line	length
     32				     ; Destr: CX DI DF
     33				     ;==========================================================================
     34
     35	0005			     DrawHorLine	     proc
     36
     37	0005  FC					     cld
     38
     39	0006  F3> AB					     rep stosw
     40
     41	0008  C3					     ret
     42	0009						     endp
     43
     44				     ;==========================================================================
     45				     ; Draws vertical line on the screen (make sure videosegment is set)
     46				     ; Entry: AL - char	to draw	a line (ASCII code)
     47				     ;	      AH - color attribute
     48				     ;	      DI - char	address	to start
     49				     ;	      CX - line	length
     50				     ; Destr: CX DI
     51				     ;==========================================================================
     52
     53	0009			     DrawVerLine	     proc
     54
     55	0009  AB		     @@Next:		     stosw
     56	000A  81 C7 009E				     add di, 158d
     57	000E  E2 F9					     loop @@Next
Turbo Assembler	 Version 4.1	    02/23/20 19:51:43	    Page 2
draw.asm



     58
     59	0010  C3					     ret
     60	0011						     endp
     61
     62				     ;==========================================================================
     63				     ; Draws side diagonal line	on the screen
     64				     ; Entry: AL - char	to draw
     65				     ;	      AH - color attr
     66				     ;	      ES:DI - addr to start
     67				     ;	      CX - line	lenght
     68				     ; Destr:
     69				     ;==========================================================================
     70
     71	0011			     CodeEnd:
     72				     end
Turbo Assembler	 Version 4.1	    02/23/20 19:51:43	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/23/20"
??FILENAME			  Text	 "draw	  "
??TIME				  Text	 "19:51:43"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@NEXT				  Near	 DGROUP:0009
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0103H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 DRAW
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
CODEEND				  Near	 DGROUP:0011
DRAWHORLINE			  Near	 DGROUP:0005
DRAWVERLINE			  Near	 DGROUP:0009
SETVIDEO			  Near	 DGROUP:0000

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  0011 Word	  Public  CODE
